---
title: "`EpiCompare`: QC and Benchmarking of Epigenetic Datasets"
author: "Sera Choi"
date: "<h5><i>Updated</i>: `r format(Sys.Date(), '%b-%d-%Y')`</h5>"
output: 
  github_document:
editor_options:
  chunk_output_type: inline
---

<!-- badges: start -->
`r badger::badge_bioc_release(color = "black")`
`r badger::badge_github_version(color = "black")`
`r badger::badge_github_actions(action = "DockerHub")`
`r badger::badge_github_actions(action = "R-CMD-check-bioc")`
`r badger::badge_last_commit(branch = "master")`
`r badger::badge_codecov(branch = "master")`
`r badger::badge_license()`
<!-- badges: end --> 

# Introduction 

`EpiCompare` is an R package for that compares different epigenetic datasets for quality control and benchmarking purposes. 
The function outputs a report in HTML format consisting of three sections:

1. General Metrics: Metrics on fragments (mapped and unique fragments, duplication rate) and peaks (blacklisted peaks and widths)
2. Peak Overlaps: Percentage and statistical significance of overlapping and non-overlapping peaks 
3. Functional Annotation: Functional annotation (ChromHMM, motif and enrichment analysis) of peaks 

# Installation 

[Include How to install the package!] 

# Usage 

Load package and example datasets.
```{r setup}
library(EpiCompare)
data("encode_H3K27ac")
data("CnT_H3K27ac")
data("CnR_H3K27ac")
data("hg19_blacklist")
```

Input files must be in GRanges object. To convert BED file into GRanges, simply use `ChIPseeker::readPeakFile("/path/to/peak/file", as = "GRanges")`. If there are more than one peak files, the files must be listed. [UPDATE]

```{r, eval=FALSE}
EpiCompare(peakfiles = list(encode_H3K27ac, CnT_H3K27ac, CnR_H3K27ac),
           names = c("ENCODE", "CnT", "CnR"),
           blacklist = hg19_blacklist,
           picard = list(encode_picard, CnT_picard, CnR_picard),
           picard_names = c("encode","CnT","CnR"),
           reference = encode_H3K27ac,
           stat_plot = TRUE,
           output_dir = "./")
```

# Session Info

<details>

```{r Session Info}
utils::sessionInfo()
```

</details>














